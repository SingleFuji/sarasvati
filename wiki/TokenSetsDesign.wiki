#summary Design document for token sets.

= Introduction =

The end goal is to allow template nodes. Template nodes are nodes that that may be allowed to execute many times in parallel. Another node will then collect all the executions.

So the 

An example of where template nodes would be useful is for approvals. At runtime, the system determines how many approvals are required.

Create API for TokenSet

TokenSet
  * Long id
  * String name
  * Env env

TokenSetMember
  * Long id
  * TokenSet set
  * int memberIndex

add method to Engine
  completeExecutionWithToken( NodeToken token, 
                              String arcname, 
                              String tokenSetName,
                              int numberOfTokens, 
                              Env initialEnv )

This will create numberOfTokens tokens on the given arc name, tied to a new token set with the given name and which has the given initial Env.

Add new join type: token set join.

Move from isJoin attribute to joinType

{{{
<node joinType="none|label|tokenset" tokenJoinName="...">
}}}